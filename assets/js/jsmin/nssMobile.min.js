const body=document.getElementsByTagName("BODY")[0];function ajaxRefreshCartCount(){let e=new XMLHttpRequest,t=document.getElementById("cartCount"),n=document.getElementById("accCartCount");e.open("POST","/gf-ajax/",!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.onload=function(){this.status>=200&&this.status<400&&(t.innerHTML=this.responseText,n.innerHTML="Korpa ("+this.responseText+")")},e.send("action=refreshCartCount")}document.addEventListener("DOMContentLoaded",()=>{ajaxRefreshCartCount(),body.classList.contains("single-product")&&viewCountAjax(),null!==buttonNext&&(sliderButtons(),setTimeout(autoSlide,1e3*banner_speed.speed))});const userIcon=document.getElementById("nssFancyUser"),mobileUserMenu=document.getElementById("nssMobileUserMenu");let mobileUserMenuHeight=0;for(let e of mobileUserMenu.children)mobileUserMenuHeight+=e.offsetHeight;userIcon.onclick=(()=>{userIcon.classList.toggle("fancy-header-icons"),mobileUserMenu.classList.toggle("show"),sliderToggle(mobileUserMenu,`height: ${mobileUserMenuHeight}px;`),resetOthers(userIcon)});const searchIcon=document.getElementById("nssFancySearch"),searchSlider=document.getElementById("searchSlider");let searchHeight=0;for(let e of searchSlider.children)searchHeight+=e.offsetHeight;const searchSliderStyle="height: "+searchHeight+"px;",searchInputMobile=document.getElementById("searchInput");let searchIconActive=!1;searchIcon.onclick=function(){searchIcon.classList.toggle("fancy-header-icons"),sliderToggle(searchSlider,searchSliderStyle),resetOthers(searchIcon),searchIconActive?(searchIconActive=!1,searchInputMobile.blur()):(searchIconActive=!0,setTimeout(()=>searchInputMobile.focus(),500))};const megaMenuIcon=document.getElementById("gf-bars-icon-toggle"),megaMenuList=document.getElementById("mobileMegaMenu");function getMenu(){document.getElementById("mobileMegaMenu").innerHTML+=mobileMegaMenu.html}megaMenuIcon.onclick=function(){megaMenuIcon.classList.toggle("fancy-header-icons"),0===megaMenuList.children.length?(getMenu(),addMegaMenuEvents(),sliderToggle(megaMenuList,"padding: 10px; height: 100vh;"),resetOthers(megaMenuIcon)):(sliderToggle(megaMenuList,"padding: 10px; height: 100vh;"),resetOthers(megaMenuIcon))};const expanderArrow=document.getElementById("nssCatExpander"),expanderSubCats=document.getElementsByClassName("gf-expander__subcategory-list");function viewCountAjax(){let e=new XMLHttpRequest,t=document.querySelector("[id^=product]").getAttribute("id").split("-")[1];e.open("POST","/gf-ajax/?viewCount=true&postId="+t,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.send("viewCount=true&postId="+t)}function addMegaMenuEvents(){const e=document.getElementsByClassName("gf-category-accordion__expander"),t="width:100%; height:unset; font-size: unset; padding: 10px 0 10px 10px; border-bottom: 1px solid #eee;";for(let n of e)n.onclick=function(){toggleClass(this,["fa-plus","fa-minus"]);for(let e of this.parentNode.children)e.classList.contains("gf-category-accordion__subitem")&&sliderToggle(e,t),e.classList.contains("gf-category-accordion__item--last")&&sliderToggle(e,t)}}null!=expanderArrow&&null!=expanderArrow.firstElementChild&&(expanderArrow.firstElementChild.onclick=function(){toggleClass(this,["fa-angle-down","fa-angle-up"]);for(let e of expanderSubCats){let t="height:"+(e.parentElement.clientHeight+e.clientHeight)+"px;";sliderToggle(e.parentElement,t)}});const descriptionButton=document.querySelector(".gf-archive-description-button");null!==descriptionButton&&descriptionButton.addEventListener("click",()=>{document.querySelector(".gf-archive-description p").classList.toggle("gf-display-category-description")});const searchFormMob=document.getElementById("gfSearchFormMobile");function searchSubmit(){let e=document.querySelector("[name^=search-radiobutton]:checked");null!==e&&"category"===e.value&&searchFormMob.setAttribute("action","")}searchFormMob.addEventListener("submit",searchSubmit);let marginLeft=0;const buttons=document.getElementsByClassName("sliderButton"),buttonPrevious=document.querySelector(".buttonPrevious"),buttonNext=document.querySelector(".buttonNext");function sliderButtons(){let e=0;for(const t of buttons)t.addEventListener("click",function(){e=parseInt(String(this.attributes.id.value).split("-")[1]),document.querySelector(".slideImg").style.marginLeft=-100*e+"%",this.classList.add("active");for(let e of this.parentNode.children)e!==this&&e.classList.remove("active");marginLeft-=10});buttonPrevious.addEventListener("click",function(){0===e?buttons[buttons.length-1].click():buttons[e-1].click()}),buttonNext.addEventListener("click",function(){e===buttons.length-1?buttons[0].click():buttons[e+1].click()})}function autoSlide(){buttonNext.click(),setTimeout(autoSlide,1e3*banner_speed.speed)}const swiper=new Swiper(".swiper-container",{slidesPerView:2,spaceBetween:0,loop:!0,arrows:!1,breakpoints:{320:{slidesPerView:2,spaceBetween:0},640:{slidesPerView:2,spaceBetween:5},1023:{slidesPerView:2,spaceBetween:5},1024:{slidesPerView:3,spaceBetween:10}}}),prevButtons=document.getElementsByClassName("product-slider__control-prev"),nextButtons=document.getElementsByClassName("product-slider__control-next");if(null!=prevButtons)for(let e of prevButtons){const t=e.parentElement.parentElement.parentElement.lastElementChild.swiper;e.addEventListener("click",e=>{e.preventDefault(),t.slidePrev()})}if(null!=nextButtons)for(let e of nextButtons){const t=e.parentElement.parentElement.parentElement.lastElementChild.swiper;e.addEventListener("click",e=>{e.preventDefault(),t.slideNext()})}var heightChecked=!1,initHeight=0;function sliderToggle(e,t){let n=!1;e.hasAttribute("style")&&(n=!0),n?e.removeAttribute("style"):e.style=t}function resetOthers(e){let t=document.getElementsByClassName("fancy-header-icons");for(let n of t)n!==e&&(n.classList.toggle("fancy-header-icons"),n===searchIcon?sliderToggle(searchSlider):n===userIcon?(mobileUserMenu.classList.toggle("show"),sliderToggle(mobileUserMenu)):n===megaMenuIcon&&sliderToggle(megaMenuList))}function toggleClass(e,t){for(let n of t)e.classList.toggle(n)}const billingPostcode=document.getElementById("billing_postcode"),shippingPostcode=document.getElementById("shipping_postcode"),billingCompany=document.getElementById("billing_company_checkbox"),billingCompanySettings=document.querySelector("p#billing_company_field > label > span"),billingPibSettings=document.querySelector("p#billing_pib_field > label > span");function toggleViewing(e){"none"===window.getComputedStyle(e).display?e.style.display="block":e.removeAttribute("style")}function showPassword(){const e=document.getElementById("password");"password"===e.getAttribute("type")?e.setAttribute("type","text"):e.setAttribute("type","password")}function checkoutCityAjax(){const e=document.getElementById("billing_city");document.getElementById("shipping_city");e.addEventListener("change",()=>{let t=e.value,n=(e.getAttribute("name"),new XMLHttpRequest);n.open("POST","/gf-ajax/",!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.onload=(()=>{this.status>=200&&this.status<=400&&(billingPostcode.value=this.response)}),n.send(`?city=${t}true&action=getZipCode`)})}null!==billingPostcode&&(checkoutCityAjax(),document.getElementById("ship-to-different-address-checkbox").checked=!1,billingCompany.checked=!1,billingPostcode.addEventListener("keypress",e=>{billingPostcode.value.length>=6&&e.preventDefault()}),billingPostcode.addEventListener("keyup",()=>{billingPostcode.value=billingPostcode.value.replace(/\D/g,"")}),shippingPostcode.addEventListener("keypress",e=>{billingPostcode.value.length>=6&&e.preventDefault()}),shippingPostcode.addEventListener("keyup",()=>{shippingPostcode.value=shippingPostcode.value.replace(/\D/g,"")}),billingCompany.addEventListener("click",e=>{toggleViewing(document.getElementById("billing_pib_field")),toggleViewing(document.getElementById("billing_company_field")),billingCompany.checked&&(document.getElementById("billing_company_field").classList.add("validate-required"),document.getElementById("billing_pib_field").classList.add("validate-required"),billingCompanySettings.classList.remove("optional"),billingCompanySettings.classList.add("required"),billingCompanySettings.textContent="*",billingPibSettings.classList.remove("optional"),billingPibSettings.classList.add("required"),billingPibSettings.textContent="*")}));